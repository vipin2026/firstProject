<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Racing</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
 <div class="CarGame">
    <div class="Score">

    </div>
    <div class="StartScreen">
        <p>START GAME <br> Arrow Key to move <br> If you hit other car you loose</p>
        <button onclick="Reset()"> Reset highest Score</button>
    </div>
    <div class="GameArea">

    </div>
 </div>
</body>
<script>
    const Score = document.querySelector('.Score');
    const StartScreen = document.querySelector('.StartScreen');
    const GameArea = document.querySelector('.GameArea'); 

    let player = {speed:5,score:0};
    StartScreen.addEventListener('click',start);

    let Keys = {Arrowup:false, Arrowdown:false, Arrowleft:false,Arrowright:false}
    document.addEventListener('keydown',keydown);
    document.addEventListener('keyup',keyup);

    function keydown(e)
    {
        e.preventDefault();
        keys[e.key] = true;
        //console.log(keys);
    }

    function keyup(e)
    {
        e.preventDefault();
        keys[e.key] = false;
       
    }

    function gameplay()
    {
        let car = document.querySelector('.car');
        let road = GameArea.getBoundingClientRect();
        console.log(road);

        if(player.start)
        {
            if(keys.Arrowup){
                player.y-=player.speed;
            }
            if(keys.Arrowdown){
                player.y+=player.speed;
            }
            if(keys.ArrowLeft){
                player.x-=player.speed;
            }
            if(keys.Arrowright){
                player.x-=player.speed;
            }

            car.style.top-player.y + 'px';
            car.style.top-player.x + 'px';


            window.requestAnimationFrame(gameplay);
        }
    }




    function start()
    {
        StartScreen.classList.add('hide');
        
        player.start = true;
        
        window.requestAnimationFrame(gameplay);

        let car = document.createElement('div');
            car.setAttribute('class','car')
            GameArea.appendChild(car);
            player.x = car.offsetleft;
            player.y = car.settop;

    }
    
</script>
</html>